<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="3" skipped="0" tests="7" time="1.573" timestamp="2026-01-06T11:48:39.268003+00:00" hostname="agent-env-785f9f8f-9601-4e39-b9cc-b8d90878ba88"><testcase classname="tests.test_country_as_brand.TestCountryAsBrand" name="test_russia_country_triggers_country_as_brand" time="0.431"><failure message="AssertionError: Expected selected_item in response&#10;assert None is not None&#10; +  where None = &lt;built-in method get of dict object at 0xfccbd39257c0&gt;('selected_item')&#10; +    where &lt;built-in method get of dict object at 0xfccbd39257c0&gt; = {'build_sha': 'e3107ad', 'computed_total_cost': 558.6, 'debug_log': {'build_sha': 'e3107ad', 'confidence_raw': 1.0, 'country_as_brand': True, 'counts': {'after_brand': 30, 'after_guards': 72, 'after_product_core': 73, 'after_unit_filter': 28, ...}, ...}, 'message': 'Товар добавлен в корзину', ...}.get">tests/test_country_as_brand.py:74: in test_russia_country_triggers_country_as_brand
    assert data.get("selected_item") is not None, "Expected selected_item in response"
E   AssertionError: Expected selected_item in response
E   assert None is not None
E    +  where None = &lt;built-in method get of dict object at 0xfccbd39257c0&gt;('selected_item')
E    +    where &lt;built-in method get of dict object at 0xfccbd39257c0&gt; = {'build_sha': 'e3107ad', 'computed_total_cost': 558.6, 'debug_log': {'build_sha': 'e3107ad', 'confidence_raw': 1.0, 'country_as_brand': True, 'counts': {'after_brand': 30, 'after_guards': 72, 'after_product_core': 73, 'after_unit_filter': 28, ...}, ...}, 'message': 'Товар добавлен в корзину', ...}.get</failure></testcase><testcase classname="tests.test_country_as_brand.TestCountryAsBrand" name="test_argentina_country_triggers_country_as_brand" time="0.105"><failure message="AssertionError: Expected selected_item in response&#10;assert None is not None&#10; +  where None = &lt;built-in method get of dict object at 0xfccbd39adcc0&gt;('selected_item')&#10; +    where &lt;built-in method get of dict object at 0xfccbd39adcc0&gt; = {'build_sha': 'e3107ad', 'computed_total_cost': 528.13, 'debug_log': {'build_sha': 'e3107ad', 'confidence_raw': 1.0, 'country_as_brand': True, 'counts': {'after_brand': 21, 'after_guards': 72, 'after_product_core': 73, 'after_unit_filter': 21, ...}, ...}, 'message': 'Товар добавлен в корзину', ...}.get">tests/test_country_as_brand.py:111: in test_argentina_country_triggers_country_as_brand
    assert data.get("selected_item") is not None, "Expected selected_item in response"
E   AssertionError: Expected selected_item in response
E   assert None is not None
E    +  where None = &lt;built-in method get of dict object at 0xfccbd39adcc0&gt;('selected_item')
E    +    where &lt;built-in method get of dict object at 0xfccbd39adcc0&gt; = {'build_sha': 'e3107ad', 'computed_total_cost': 528.13, 'debug_log': {'build_sha': 'e3107ad', 'confidence_raw': 1.0, 'country_as_brand': True, 'counts': {'after_brand': 21, 'after_guards': 72, 'after_product_core': 73, 'after_unit_filter': 21, ...}, ...}, 'message': 'Товар добавлен в корзину', ...}.get</failure></testcase><testcase classname="tests.test_country_as_brand.TestCountryAsBrand" name="test_no_country_does_not_apply_country_filter" time="0.134" /><testcase classname="tests.test_country_as_brand.TestCountryAsBrand" name="test_unknown_country_returns_not_found" time="0.097" /><testcase classname="tests.test_country_as_brand.TestCountryAsBrand" name="test_debug_log_contains_country_as_brand_field" time="0.202" /><testcase classname="tests.test_country_as_brand.TestCountryAsBrandEdgeCases" name="test_country_filter_counts_in_debug_log" time="0.371" /><testcase classname="tests.test_country_as_brand.TestCountryAsBrandEdgeCases" name="test_russia_beef_returns_beef_product" time="0.099"><failure message="AssertionError: Expected РОССИЯ, got &#10;assert '' == 'РОССИЯ'&#10;  &#10;  - РОССИЯ">tests/test_country_as_brand.py:274: in test_russia_beef_returns_beef_product
    assert country == "РОССИЯ", f"Expected РОССИЯ, got {country}"
E   AssertionError: Expected РОССИЯ, got 
E   assert '' == 'РОССИЯ'
E     
E     - РОССИЯ</failure></testcase></testsuite></testsuites>