# Romax name mapping: до и после

## Проблема (до)

После импорта Romax в UI колонка «Наименование» показывала **2001.0, 2002.0 …** вместо текста из колонки «Название» в Excel. Причина: авто-детект ошибочно маппил `productName` на колонку «Код товара поставщика» (в заголовке есть слово «товар»).

## Решение (после)

- В авто-детекте для **productName** исключены заголовки, содержащие: код, артикул, поставщик, sku, id товара, код товара, товара поставщика.
- Для **name** приоритет у колонок «Название» / «Наименование»; при наличии DataFrame используется эвристика по данным (длинный текст, мало числовых значений).
- **article** явно маппится на «Код товара поставщика», «Код товара», «код», «артикул» и т.д.
- Нормализация: `supplier_code` 2001.0 → «2001»; `name` — trim, схлопывание пробелов и nbsp.

## Колонки, которые выбирает auto-detect (Romax)

| Поле          | Колонка в файле Romax        |
|---------------|------------------------------|
| productName   | Название                     |
| article       | Код товара поставщика        |
| price         | Цена за единицу              |
| unit          | Единица                      |
| packQty       | Количество в упаковке        |
| minOrderQty   | Минимальный заказ            |

## Evidence

- **До**: в таблице прайса в «Наименование» отображались значения 2001.0, 2002.0.
- **После**: в «Наименование» отображается текст из колонки «Название» (например, «Говядина вырезка …»).
- Файл `evidence/PRICE_IMPORT_MAPPING_DEBUG.txt` после импорта содержит выбранный mapping и preview первых 5 строк (name, supplier_code).
- Скрипт `scripts/verify_romax_name_mapping.py` проверяет, что `name_raw` не выглядит как число; пишет `evidence/ROMAX_NAME_MAPPING_CHECK.txt` (RESULT: PASS/FAIL).
